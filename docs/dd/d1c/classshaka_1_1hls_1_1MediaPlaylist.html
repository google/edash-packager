<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Shaka Packager SDK: shaka::hls::MediaPlaylist Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Shaka Packager SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d8/daf/namespaceshaka.html">shaka</a></li><li class="navelem"><b>hls</b></li><li class="navelem"><a class="el" href="../../dd/d1c/classshaka_1_1hls_1_1MediaPlaylist.html">MediaPlaylist</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../da/d05/classshaka_1_1hls_1_1MediaPlaylist-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">shaka::hls::MediaPlaylist Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Methods are virtual for mocking.  
 <a href="../../dd/d1c/classshaka_1_1hls_1_1MediaPlaylist.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../da/d4a/media__playlist_8h_source.html">media_playlist.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for shaka::hls::MediaPlaylist:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../dd/d1c/classshaka_1_1hls_1_1MediaPlaylist.png" usemap="#shaka::hls::MediaPlaylist_map" alt=""/>
  <map id="shaka::hls::MediaPlaylist_map" name="shaka::hls::MediaPlaylist_map">
<area href="../../d3/d95/classshaka_1_1hls_1_1MockMediaPlaylist.html" alt="shaka::hls::MockMediaPlaylist" shape="rect" coords="0,56,179,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a05c9e4079489758432113d4b7bda1ee3"><td class="memItemLeft" align="right" valign="top"><a id="a05c9e4079489758432113d4b7bda1ee3"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>MediaPlaylistStreamType</b> { <br />
&#160;&#160;<b>kUnknown</b>, 
<b>kAudio</b>, 
<b>kVideo</b>, 
<b>kVideoIFramesOnly</b>, 
<br />
&#160;&#160;<b>kSubtitle</b>
<br />
 }</td></tr>
<tr class="separator:a05c9e4079489758432113d4b7bda1ee3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c1176a2cf0762da3d1243fdf0a40244"><td class="memItemLeft" align="right" valign="top"><a id="a2c1176a2cf0762da3d1243fdf0a40244"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>EncryptionMethod</b> { <b>kNone</b>, 
<b>kAes128</b>, 
<b>kSampleAes</b>, 
<b>kSampleAesCenc</b>
 }</td></tr>
<tr class="separator:a2c1176a2cf0762da3d1243fdf0a40244"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad0b067471c77f2f9a6adb4df0aa85925"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1c/classshaka_1_1hls_1_1MediaPlaylist.html#ad0b067471c77f2f9a6adb4df0aa85925">MediaPlaylist</a> (const <a class="el" href="../../d0/da8/structshaka_1_1HlsParams.html">HlsParams</a> &amp;hls_params, const std::string &amp;file_name, const std::string &amp;name, const std::string &amp;group_id)</td></tr>
<tr class="separator:ad0b067471c77f2f9a6adb4df0aa85925"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f4f1ff6cc13ab40ebeeec8742531f21"><td class="memItemLeft" align="right" valign="top"><a id="a2f4f1ff6cc13ab40ebeeec8742531f21"></a>
const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>file_name</b> () const</td></tr>
<tr class="separator:a2f4f1ff6cc13ab40ebeeec8742531f21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae0adfcd3091eff58218907a3f86f57f"><td class="memItemLeft" align="right" valign="top"><a id="aae0adfcd3091eff58218907a3f86f57f"></a>
const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>name</b> () const</td></tr>
<tr class="separator:aae0adfcd3091eff58218907a3f86f57f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a071752caa78c114053ab34757b0352dd"><td class="memItemLeft" align="right" valign="top"><a id="a071752caa78c114053ab34757b0352dd"></a>
const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>group_id</b> () const</td></tr>
<tr class="separator:a071752caa78c114053ab34757b0352dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dc9f197957a44eac53d2c37eca8bbc9"><td class="memItemLeft" align="right" valign="top"><a id="a0dc9f197957a44eac53d2c37eca8bbc9"></a>
MediaPlaylistStreamType&#160;</td><td class="memItemRight" valign="bottom"><b>stream_type</b> () const</td></tr>
<tr class="separator:a0dc9f197957a44eac53d2c37eca8bbc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a168a14812652a007b108973b4221389a"><td class="memItemLeft" align="right" valign="top"><a id="a168a14812652a007b108973b4221389a"></a>
const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>codec</b> () const</td></tr>
<tr class="separator:a168a14812652a007b108973b4221389a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ab66ed311668017fd62d04db0476e79"><td class="memItemLeft" align="right" valign="top"><a id="a2ab66ed311668017fd62d04db0476e79"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1c/classshaka_1_1hls_1_1MediaPlaylist.html#a2ab66ed311668017fd62d04db0476e79">SetStreamTypeForTesting</a> (MediaPlaylistStreamType stream_type)</td></tr>
<tr class="memdesc:a2ab66ed311668017fd62d04db0476e79"><td class="mdescLeft">&#160;</td><td class="mdescRight">For testing only. <br /></td></tr>
<tr class="separator:a2ab66ed311668017fd62d04db0476e79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad5c985ef4bbdbe7c8f38494114abdf7"><td class="memItemLeft" align="right" valign="top"><a id="aad5c985ef4bbdbe7c8f38494114abdf7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1c/classshaka_1_1hls_1_1MediaPlaylist.html#aad5c985ef4bbdbe7c8f38494114abdf7">SetCodecForTesting</a> (const std::string &amp;codec)</td></tr>
<tr class="memdesc:aad5c985ef4bbdbe7c8f38494114abdf7"><td class="mdescLeft">&#160;</td><td class="mdescRight">For testing only. <br /></td></tr>
<tr class="separator:aad5c985ef4bbdbe7c8f38494114abdf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9216e655849174b9d524127a3bf84e2e"><td class="memItemLeft" align="right" valign="top"><a id="a9216e655849174b9d524127a3bf84e2e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1c/classshaka_1_1hls_1_1MediaPlaylist.html#a9216e655849174b9d524127a3bf84e2e">SetLanguageForTesting</a> (const std::string &amp;<a class="el" href="../../dd/d1c/classshaka_1_1hls_1_1MediaPlaylist.html#a364f8c4dc19f6a8493d8026b7917e5c8">language</a>)</td></tr>
<tr class="memdesc:a9216e655849174b9d524127a3bf84e2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">For testing only. <br /></td></tr>
<tr class="separator:a9216e655849174b9d524127a3bf84e2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acacd79e086a620c82101f1a0f3ba8df9"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1c/classshaka_1_1hls_1_1MediaPlaylist.html#acacd79e086a620c82101f1a0f3ba8df9">SetMediaInfo</a> (const MediaInfo &amp;media_info)</td></tr>
<tr class="separator:acacd79e086a620c82101f1a0f3ba8df9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afecc7ca28e4eb44e69d5771cadd0e3b9"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1c/classshaka_1_1hls_1_1MediaPlaylist.html#afecc7ca28e4eb44e69d5771cadd0e3b9">AddSegment</a> (const std::string &amp;file_name, int64_t start_time, int64_t duration, uint64_t start_byte_offset, uint64_t size)</td></tr>
<tr class="separator:afecc7ca28e4eb44e69d5771cadd0e3b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a505b247de5ec210a0f95d543cf7acc38"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1c/classshaka_1_1hls_1_1MediaPlaylist.html#a505b247de5ec210a0f95d543cf7acc38">AddKeyFrame</a> (int64_t timestamp, uint64_t start_byte_offset, uint64_t size)</td></tr>
<tr class="separator:a505b247de5ec210a0f95d543cf7acc38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4aaa21da07864789895048e8558ab816"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1c/classshaka_1_1hls_1_1MediaPlaylist.html#a4aaa21da07864789895048e8558ab816">AddEncryptionInfo</a> (EncryptionMethod method, const std::string &amp;url, const std::string &amp;key_id, const std::string &amp;iv, const std::string &amp;key_format, const std::string &amp;key_format_versions)</td></tr>
<tr class="separator:a4aaa21da07864789895048e8558ab816"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab17c3587576580af5c033b3828299b46"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1c/classshaka_1_1hls_1_1MediaPlaylist.html#ab17c3587576580af5c033b3828299b46">AddPlacementOpportunity</a> ()</td></tr>
<tr class="separator:ab17c3587576580af5c033b3828299b46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a182ca5726d4fb7d3053f76b515042440"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1c/classshaka_1_1hls_1_1MediaPlaylist.html#a182ca5726d4fb7d3053f76b515042440">WriteToFile</a> (const std::string &amp;file_path)</td></tr>
<tr class="separator:a182ca5726d4fb7d3053f76b515042440"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a889e16239425ce84673cb78bc267b552"><td class="memItemLeft" align="right" valign="top">virtual uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1c/classshaka_1_1hls_1_1MediaPlaylist.html#a889e16239425ce84673cb78bc267b552">MaxBitrate</a> () const</td></tr>
<tr class="separator:a889e16239425ce84673cb78bc267b552"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66ea7bbe872b17c0a41402226c203378"><td class="memItemLeft" align="right" valign="top">virtual uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1c/classshaka_1_1hls_1_1MediaPlaylist.html#a66ea7bbe872b17c0a41402226c203378">AvgBitrate</a> () const</td></tr>
<tr class="separator:a66ea7bbe872b17c0a41402226c203378"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e848f7f91643ca6216b6618c4512124"><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1c/classshaka_1_1hls_1_1MediaPlaylist.html#a6e848f7f91643ca6216b6618c4512124">GetLongestSegmentDuration</a> () const</td></tr>
<tr class="separator:a6e848f7f91643ca6216b6618c4512124"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae912291a5be66ae6256006654cc04dd6"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1c/classshaka_1_1hls_1_1MediaPlaylist.html#ae912291a5be66ae6256006654cc04dd6">SetTargetDuration</a> (uint32_t target_duration)</td></tr>
<tr class="separator:ae912291a5be66ae6256006654cc04dd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98b813343f29341e612fff2964cd0bb2"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1c/classshaka_1_1hls_1_1MediaPlaylist.html#a98b813343f29341e612fff2964cd0bb2">GetNumChannels</a> () const</td></tr>
<tr class="separator:a98b813343f29341e612fff2964cd0bb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6df3438b8ec8708041fbbd24e4c15878"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1c/classshaka_1_1hls_1_1MediaPlaylist.html#a6df3438b8ec8708041fbbd24e4c15878">GetDisplayResolution</a> (uint32_t *width, uint32_t *height) const</td></tr>
<tr class="separator:a6df3438b8ec8708041fbbd24e4c15878"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a364f8c4dc19f6a8493d8026b7917e5c8"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d1c/classshaka_1_1hls_1_1MediaPlaylist.html#a364f8c4dc19f6a8493d8026b7917e5c8">language</a> () const</td></tr>
<tr class="separator:a364f8c4dc19f6a8493d8026b7917e5c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Methods are virtual for mocking. </p>

<p class="definition">Definition at line <a class="el" href="../../da/d4a/media__playlist_8h_source.html#l00046">46</a> of file <a class="el" href="../../da/d4a/media__playlist_8h_source.html">media_playlist.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad0b067471c77f2f9a6adb4df0aa85925"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0b067471c77f2f9a6adb4df0aa85925">&#9670;&nbsp;</a></span>MediaPlaylist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">shaka::hls::MediaPlaylist::MediaPlaylist </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d0/da8/structshaka_1_1HlsParams.html">HlsParams</a> &amp;&#160;</td>
          <td class="paramname"><em>hls_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>group_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hls_params</td><td>contains HLS parameters. </td></tr>
    <tr><td class="paramname">file_name</td><td>is the file name of this media playlist. </td></tr>
    <tr><td class="paramname">name</td><td>is the name of this playlist. In other words this is the value of the NAME attribute for EXT-X-MEDIA. This is not necessarily the same as <em>file_name</em>. </td></tr>
    <tr><td class="paramname">group_id</td><td>is the group ID for this playlist. This is the value of GROUP-ID attribute for EXT-X-MEDIA. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/df2/media__playlist_8cc_source.html#l00326">326</a> of file <a class="el" href="../../d5/df2/media__playlist_8cc_source.html">media_playlist.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4aaa21da07864789895048e8558ab816"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4aaa21da07864789895048e8558ab816">&#9670;&nbsp;</a></span>AddEncryptionInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shaka::hls::MediaPlaylist::AddEncryptionInfo </td>
          <td>(</td>
          <td class="paramtype">MediaPlaylist::EncryptionMethod&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>iv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key_format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key_format_versions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>All segments added after calling this method must be decryptable with the key that can be fetched from |url|, until calling this again. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">method</td><td>is the encryption method. </td></tr>
    <tr><td class="paramname">url</td><td>specifies where the key is i.e. the value of the URI attribute. #param key_id is the default key ID for the encrypted segements. </td></tr>
    <tr><td class="paramname">iv</td><td>is the initialization vector in human readable format, i.e. the value for IV attribute. This may be empty. </td></tr>
    <tr><td class="paramname">key_format</td><td>is the key format, i.e. the KEYFORMAT value. This may be empty. </td></tr>
    <tr><td class="paramname">key_format_versions</td><td>is the KEYFORMATVERIONS value. This may be empty. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/df2/media__playlist_8cc_source.html#l00418">418</a> of file <a class="el" href="../../d5/df2/media__playlist_8cc_source.html">media_playlist.cc</a>.</p>

</div>
</div>
<a id="a505b247de5ec210a0f95d543cf7acc38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a505b247de5ec210a0f95d543cf7acc38">&#9670;&nbsp;</a></span>AddKeyFrame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shaka::hls::MediaPlaylist::AddKeyFrame </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>start_byte_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Keyframes must be added in order. It is also called before the containing segment being called. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timestamp</td><td>is the timestamp of the key frame in timescale of the media. </td></tr>
    <tr><td class="paramname">start_byte_offset</td><td>is the offset of where the key frame starts. </td></tr>
    <tr><td class="paramname">size</td><td>is size in bytes. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/df2/media__playlist_8cc_source.html#l00403">403</a> of file <a class="el" href="../../d5/df2/media__playlist_8cc_source.html">media_playlist.cc</a>.</p>

</div>
</div>
<a id="ab17c3587576580af5c033b3828299b46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab17c3587576580af5c033b3828299b46">&#9670;&nbsp;</a></span>AddPlacementOpportunity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shaka::hls::MediaPlaylist::AddPlacementOpportunity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add #EXT-X-PLACEMENT-OPPORTUNITY for mid-roll ads. See <a href="https://support.google.com/dfp_premium/answer/7295798?hl=en">https://support.google.com/dfp_premium/answer/7295798?hl=en</a>. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/df2/media__playlist_8cc_source.html#l00435">435</a> of file <a class="el" href="../../d5/df2/media__playlist_8cc_source.html">media_playlist.cc</a>.</p>

</div>
</div>
<a id="afecc7ca28e4eb44e69d5771cadd0e3b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afecc7ca28e4eb44e69d5771cadd0e3b9">&#9670;&nbsp;</a></span>AddSegment()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shaka::hls::MediaPlaylist::AddSegment </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>start_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>start_byte_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Segments must be added in order. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file_name</td><td>is the file name of the segment. </td></tr>
    <tr><td class="paramname">start_time</td><td>is in terms of the timescale of the media. </td></tr>
    <tr><td class="paramname">duration</td><td>is in terms of the timescale of the media. </td></tr>
    <tr><td class="paramname">start_byte_offset</td><td>is the offset of where the subsegment starts. This must be 0 if the whole segment is a subsegment. </td></tr>
    <tr><td class="paramname">size</td><td>is size in bytes. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/df2/media__playlist_8cc_source.html#l00375">375</a> of file <a class="el" href="../../d5/df2/media__playlist_8cc_source.html">media_playlist.cc</a>.</p>

</div>
</div>
<a id="a66ea7bbe872b17c0a41402226c203378"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66ea7bbe872b17c0a41402226c203378">&#9670;&nbsp;</a></span>AvgBitrate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t shaka::hls::MediaPlaylist::AvgBitrate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Unlike <em>MaxBitrate</em>, AvgBitrate is always computed from the segment size and duration. </p><dl class="section return"><dt>Returns</dt><dd>The average bitrate (in bits per second) of this <a class="el" href="../../dd/d1c/classshaka_1_1hls_1_1MediaPlaylist.html" title="Methods are virtual for mocking. ">MediaPlaylist</a>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/df2/media__playlist_8cc_source.html#l00468">468</a> of file <a class="el" href="../../d5/df2/media__playlist_8cc_source.html">media_playlist.cc</a>.</p>

</div>
</div>
<a id="a6df3438b8ec8708041fbbd24e4c15878"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6df3438b8ec8708041fbbd24e4c15878">&#9670;&nbsp;</a></span>GetDisplayResolution()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool shaka::hls::MediaPlaylist::GetDisplayResolution </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>height</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>true if |width| and |height| have been set with a valid resolution values. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/df2/media__playlist_8cc_source.html#l00491">491</a> of file <a class="el" href="../../d5/df2/media__playlist_8cc_source.html">media_playlist.cc</a>.</p>

</div>
</div>
<a id="a6e848f7f91643ca6216b6618c4512124"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e848f7f91643ca6216b6618c4512124">&#9670;&nbsp;</a></span>GetLongestSegmentDuration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double shaka::hls::MediaPlaylist::GetLongestSegmentDuration </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the longest segment’s duration. This will return 0 if no segments have been added. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/df2/media__playlist_8cc_source.html#l00472">472</a> of file <a class="el" href="../../d5/df2/media__playlist_8cc_source.html">media_playlist.cc</a>.</p>

</div>
</div>
<a id="a98b813343f29341e612fff2964cd0bb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98b813343f29341e612fff2964cd0bb2">&#9670;&nbsp;</a></span>GetNumChannels()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int shaka::hls::MediaPlaylist::GetNumChannels </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>number of channels for audio. 0 is returned for video. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/df2/media__playlist_8cc_source.html#l00487">487</a> of file <a class="el" href="../../d5/df2/media__playlist_8cc_source.html">media_playlist.cc</a>.</p>

</div>
</div>
<a id="a364f8c4dc19f6a8493d8026b7917e5c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a364f8c4dc19f6a8493d8026b7917e5c8">&#9670;&nbsp;</a></span>language()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string shaka::hls::MediaPlaylist::language </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the language of the media, as an ISO language tag in its shortest form. May be an empty string for video. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../da/d4a/media__playlist_8h_source.html#l00185">185</a> of file <a class="el" href="../../da/d4a/media__playlist_8h_source.html">media_playlist.h</a>.</p>

</div>
</div>
<a id="a889e16239425ce84673cb78bc267b552"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a889e16239425ce84673cb78bc267b552">&#9670;&nbsp;</a></span>MaxBitrate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t shaka::hls::MediaPlaylist::MaxBitrate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If bitrate is specified in MediaInfo then it will use that value. Otherwise, returns the max bitrate. </p><dl class="section return"><dt>Returns</dt><dd>the max bitrate (in bits per second) of this <a class="el" href="../../dd/d1c/classshaka_1_1hls_1_1MediaPlaylist.html" title="Methods are virtual for mocking. ">MediaPlaylist</a>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/df2/media__playlist_8cc_source.html#l00462">462</a> of file <a class="el" href="../../d5/df2/media__playlist_8cc_source.html">media_playlist.cc</a>.</p>

</div>
</div>
<a id="acacd79e086a620c82101f1a0f3ba8df9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acacd79e086a620c82101f1a0f3ba8df9">&#9670;&nbsp;</a></span>SetMediaInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool shaka::hls::MediaPlaylist::SetMediaInfo </td>
          <td>(</td>
          <td class="paramtype">const MediaInfo &amp;&#160;</td>
          <td class="paramname"><em>media_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This must succeed before calling any other public methods. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">media_info</td><td>is the info of the segments that are going to be added to this playlist. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/df2/media__playlist_8cc_source.html#l00350">350</a> of file <a class="el" href="../../d5/df2/media__playlist_8cc_source.html">media_playlist.cc</a>.</p>

</div>
</div>
<a id="ae912291a5be66ae6256006654cc04dd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae912291a5be66ae6256006654cc04dd6">&#9670;&nbsp;</a></span>SetTargetDuration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shaka::hls::MediaPlaylist::SetTargetDuration </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>target_duration</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the target duration of this <a class="el" href="../../dd/d1c/classshaka_1_1hls_1_1MediaPlaylist.html" title="Methods are virtual for mocking. ">MediaPlaylist</a>. In other words this is the value for EXT-X-TARGETDURATION. If this is not called before calling Write(), it will estimate the best target duration. The spec does not allow changing EXT-X-TARGETDURATION. However, this class has no control over the input source. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target_duration</td><td>is the target duration for this playlist. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/df2/media__playlist_8cc_source.html#l00476">476</a> of file <a class="el" href="../../d5/df2/media__playlist_8cc_source.html">media_playlist.cc</a>.</p>

</div>
</div>
<a id="a182ca5726d4fb7d3053f76b515042440"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a182ca5726d4fb7d3053f76b515042440">&#9670;&nbsp;</a></span>WriteToFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool shaka::hls::MediaPlaylist::WriteToFile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>file_path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Write the playlist to |file_path|. This does not close the file. If target duration is not set expliticly, this will try to find the target duration. Note that target duration cannot be changed. So calling this without explicitly setting the target duration and before adding any segments will end up setting the target duration to 0 and will always generate an invalid playlist. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file_path</td><td>is the output file path accepted by the <a class="el" href="../../d3/d73/classshaka_1_1File.html" title="Define an abstract file interface. ">File</a> implementation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/df2/media__playlist_8cc_source.html#l00439">439</a> of file <a class="el" href="../../d5/df2/media__playlist_8cc_source.html">media_playlist.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>packager/hls/base/<a class="el" href="../../da/d4a/media__playlist_8h_source.html">media_playlist.h</a></li>
<li>packager/hls/base/<a class="el" href="../../d5/df2/media__playlist_8cc_source.html">media_playlist.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 16 2018 13:17:58 for Shaka Packager SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
